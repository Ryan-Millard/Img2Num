/* Viewport that handles pan/zoom (clipped) */
.viewport {
  position: relative;
  overflow: hidden;
  transition: transform 180ms ease, box-shadow 180ms ease;
  min-height: 360px;
  width: 100%;
  height: 100%;
  max-height: 90vh;
  cursor: grab;
  position: relative;
  background: transparent;
}
/* Default path appearance */
.colorMode .viewport svg path:not(#coloredRegion) {
  stroke: #000;
  stroke-width: 0.25;
  fill: white;
  cursor: pointer;
  transition: 150ms ease;
}

/* while dragging */
.viewport.grabbing { cursor: grabbing; }

/* Inner wrapper where we apply transform(scale/translate) */
.inner {
  transform-origin: 0 0;
  will-change: transform;
  transition: transform 50ms linear;
  display: inline-block;
}

/* Preserve the svg natural sizing â€” do not force fill/fit */
.inner svg {
  display: block;
}

/* Enable interaction on primitives */
/* Default path appearance: keep original fills untouched by CSS (we manipulate via JS) */
.inner svg path,
.inner svg rect,
.inner svg circle,
.inner svg polygon,
.inner svg g {
  pointer-events: all;

  stroke: #000;
  stroke-width: 0.5;
  cursor: pointer;
  transition: stroke 80ms ease, stroke-width 80ms ease, opacity 80ms ease;
  opacity: 0.98;
}

/* hover outline only (doesn't override fills) */
.inner svg path:hover,
.inner svg path:hover,
.inner svg rect:hover,
.inner svg circle:hover,
.inner svg polygon:hover,
.inner svg g:hover {
  stroke: var(--color-primary);
  stroke-width: 0.9;
}

/* preview mode: disable interaction but keep visual state */
.previewMode svg path,
.previewMode svg rect,
.previewMode svg circle,
.previewMode svg polygon,
.previewMode svg g {
  pointer-events: none;
}

.hint {
  margin-top: 12px;
  font-size: 0.85rem;
  text-align:center;
}

/* responsiveness */
@media (max-width:800px){
  .viewport{ min-height:240px; }
}
