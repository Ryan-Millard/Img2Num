"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5545],{30716(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"js/img2num-javascript","title":"Img2Num","description":"This version of the docs is a placeholder for when the package arrives on NPM.","source":"@site/docs/js/index.md","sourceDirName":"js","slug":"/js/","permalink":"/Img2Num/info/docs/next/js/","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/js/index.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"img2num-javascript","title":"Img2Num","sidebar_label":"JavaScript","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Img2Num Docs","permalink":"/Img2Num/info/docs/next/"},"next":{"title":"API","permalink":"/Img2Num/info/docs/next/js/api/"}}');var i=r(86106),t=r(78634),a=r(10319),l=r(41133);const o={id:"img2num-javascript",title:"Img2Num",sidebar_label:"JavaScript",sidebar_position:2},d=void 0,c={},u=[{value:"Features",id:"features",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Node.js (server-side)",id:"nodejs-server-side",level:3},{value:"Browser (client-side)",id:"browser-client-side",level:3},{value:"Files and Bundlers",id:"files-and-bundlers",level:3},{value:"Installation",id:"installation",level:2},{value:"Using a package manager",id:"using-a-package-manager",level:3},{value:"Using the jsDelivr CDN",id:"using-the-jsdelivr-cdn",level:3},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Resources",id:"resources",level:2},{value:"License",id:"license",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.admonition,{title:"Not on NPM yet",type:"warning",children:[(0,i.jsxs)(n.p,{children:["This version of the docs is a placeholder for when the package arrives on NPM.\nIt is not on NPM yet, so if you would like to use the library, you will likely need to manually install the\nsource and link to it using something like ",(0,i.jsx)(n.code,{children:"npm link"})," or a workspace."]}),(0,i.jsxs)(n.p,{children:["Feel free to ",(0,i.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num/discussions/new?category=general",children:"open a discussion"})," if you would\nlike some help with it."]})]}),"\n",(0,i.jsxs)(n.p,{children:["A high-performance raster-to-vector conversion library that transforms images into ",(0,i.jsx)(n.strong,{children:"SVGs"}),".\nIt is powered by WebAssembly (WASM) for speed, while providing easy-to-use JavaScript wrappers for integration into web or Node.js projects."]}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fast raster vectorization"})," with WASM backend."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typed array support"}),": Works with ",(0,i.jsx)(n.code,{children:"Uint8Array"}),", ",(0,i.jsx)(n.code,{children:"Uint8ClampedArray"}),", and ",(0,i.jsx)(n.code,{children:"Int32Array"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"String outputs"}),": Converts results directly into SVG strings."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Worker-friendly"}),": Supports offloading heavy computations to Web Workers."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zero dependencies"}),": Pure WASM + JS with no external libraries required."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.h3,{id:"nodejs-server-side",children:"Node.js (server-side)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node \u2265 14"})," is required for ESM support (",(0,i.jsx)(n.code,{children:'"type": "module"'})," in package.json)."]}),"\n",(0,i.jsxs)(n.li,{children:["Node \u2265 16 is recommended if you want top-level ",(0,i.jsx)(n.code,{children:"await"})," and best WASM performance."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"browser-client-side",children:"Browser (client-side)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A modern browser with ",(0,i.jsx)(n.strong,{children:"ES module"})," support (",(0,i.jsx)(n.code,{children:'<script type="module">'}),") and ",(0,i.jsx)(n.strong,{children:"WebAssembly"})," support."]}),"\n",(0,i.jsx)(n.li,{children:"Most browsers from 2020+ are compatible."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Not supported:"})," Internet Explorer 11 or older browsers."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"files-and-bundlers",children:"Files and Bundlers"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When using bundlers (Webpack, Vite, Rollup), ensure that ",(0,i.jsx)(n.code,{children:".wasm"})," files (like Img2Num's ",(0,i.jsx)(n.code,{children:"build-wasm/index.wasm"}),") are properly served or imported."]}),"\n",(0,i.jsx)(n.li,{children:"No external JS dependencies are required \u2014 the package is pure JS + WASM."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.h3,{id:"using-a-package-manager",children:"Using a package manager"}),"\n","\n",(0,i.jsxs)(a.A,{defaultValue:"npm",children:[(0,i.jsx)(l.A,{value:"npm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="Run this in your terminal"',children:"npm install img2num\n"})})}),(0,i.jsx)(l.A,{value:"pnpm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="Run this in your terminal"',children:"pnpm add img2num\n"})})}),(0,i.jsx)(l.A,{value:"yarn",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="Run this in your terminal"',children:"yarn add img2num\n"})})}),(0,i.jsx)(l.A,{value:"bun",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="Run this in your terminal"',children:"bun add img2num\n"})})})]}),"\n",(0,i.jsx)(n.h3,{id:"using-the-jsdelivr-cdn",children:"Using the jsDelivr CDN"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="Paste this in your HTML file"',children:'<script type="module">\n  import { imageToUint8ClampedArray, bilateralFilter, kmeans, findContours } from "https://cdn.jsdelivr.net/npm/img2num/build-wasm/index.js";\n\n  // Your code here\n<\/script>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="Convert an image to an SVG"',children:'import {\n  imageToUint8ClampedArray,\n  bilateralFilter,\n  kmeans,\n  findContours\n} from "img2num";\n\n// Get your image from somewhere, e.g. a File from an <input> element:\nconst imageFile = /* File object, e.g., input.files[0] */;\n\n// Convert image to a Uint8ClampedArray\nconst { pixels, width, height } = await imageToUint8ClampedArray(imageFile);\n\n// Reduce noise with a bilateral filter\nconst filtered = await bilateralFilter({\n  pixels,\n  width,\n  height,\n});\n\n// Label the image using K-Means (labels needed for next step)\nconst { labels } = await kmeans({\n  pixels: filtered,\n  width,\n  height,\n  num_colors: 16,\n});\n\n// Convert image to SVG\nconst { svg } = await findContours({\n  pixels: filtered,\n  labels,\n  width,\n  height,\n});\n'})}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Memory management"}),": Img2Num allocates WASM memory for input arrays and strings, copies the data into WASM memory, then reads back the results."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typed arrays"}),": All buffers are handled efficiently using the appropriate ",(0,i.jsx)(n.code,{children:"HEAP"})," views (",(0,i.jsx)(n.code,{children:"HEAPU8"}),", ",(0,i.jsx)(n.code,{children:"HEAP32"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"String conversion"}),": SVG output is returned as a UTF-8 string for direct use in web pages or files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clean-up"}),": All allocated memory is automatically freed after the function call to prevent leaks."]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This library is JavaScript-friendly, meaning it does not require users to manually manage memory."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"./docs/",children:"Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"./api/",children:"API usage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num",children:"GitHub repository"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://ryan-millard.github.io/Img2Num/",children:"React demo app"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,i.jsx)(n.p,{children:"The JavaScript package is licensed under the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/LICENSE",children:"MIT \xa9 Ryan Millard"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},41133(e,n,r){r.d(n,{A:()=>a});r(7378);var s=r(23372);const i="tabItem_eRXL";var t=r(86106);function a({children:e,hidden:n,className:r}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,s.A)(i,r),hidden:n,children:e})}},10319(e,n,r){r.d(n,{A:()=>N});var s=r(7378),i=r(23372),t=r(58368),a=r(6015),l=r(30505),o=r(35245),d=r(73184),c=r(63729),u=r(93425);function h(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:n,children:r}=e;return(0,s.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:r,default:s}})=>({value:e,label:n,attributes:r,default:s}))}(r);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const r=(0,l.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(i),(0,s.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(r.location.search);n.set(i,e),r.replace({...r.location,search:n.toString()})},[i,r])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:i}=e,t=m(e),[a,l]=(0,s.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:t})),[d,c]=g({queryString:r,groupId:i}),[h,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,i]=(0,u.Dv)(n);return[r,(0,s.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),x=(()=>{const e=d??h;return p({value:e,tabValues:t})?e:null})();(0,o.A)(()=>{x&&l(x)},[x]);return{selectedValue:a,selectValue:(0,s.useCallback)(e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),j(e)},[c,j,t]),tabValues:t}}var x=r(38063);const f="tabList_Ofsd",b="tabItem__UlI";var v=r(86106);function y({className:e,block:n,selectedValue:r,selectValue:s,tabValues:t}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,a.a_)(),d=e=>{const n=e.currentTarget,i=l.indexOf(n),a=t[i].value;a!==r&&(o(n),s(a))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:t.map(({value:e,label:n,attributes:s})=>(0,v.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{l.push(e)},onKeyDown:c,onClick:d,...s,className:(0,i.A)("tabs__item",b,s?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function w({lazy:e,children:n,selectedValue:r}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===r);return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function k(e){const n=j(e);return(0,v.jsxs)("div",{className:(0,i.A)(t.G.tabs.container,"tabs-container",f),children:[(0,v.jsx)(y,{...n,...e}),(0,v.jsx)(w,{...n,...e})]})}function N(e){const n=(0,x.A)();return(0,v.jsx)(k,{...e,children:h(e.children)},String(n))}},78634(e,n,r){r.d(n,{R:()=>a,x:()=>l});var s=r(7378);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);