"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3945],{66188(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"contributing/setup-and-dependencies/setup-and-dependencies","title":"Setup & Dependencies","description":"Prerequisites","source":"@site/docs/contributing/setup-and-dependencies/index.md","sourceDirName":"contributing/setup-and-dependencies","slug":"/contributing/setup-and-dependencies/","permalink":"/Img2Num/info/docs/next/contributing/setup-and-dependencies/","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/contributing/setup-and-dependencies/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"setup-and-dependencies","title":"Setup & Dependencies","sidebar_label":"\ud83d\udee0\ufe0f Setup & Dependencies","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Contributing","permalink":"/Img2Num/info/docs/next/contributing/"},"next":{"title":"Code of Conduct","permalink":"/Img2Num/info/docs/next/contributing/code-of-conduct"}}');var t=l(86106),a=l(48551),r=l(42762),s=l(11966);const o={id:"setup-and-dependencies",title:"Setup & Dependencies",sidebar_label:"\ud83d\udee0\ufe0f Setup & Dependencies",sidebar_position:1},c=void 0,d={},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Verify Prerequisite Installations",id:"verify-prerequisite-installations",level:3},{value:"Clone the repository",id:"clone-the-repository",level:2},{value:"Docker",id:"docker",level:2},{value:"Start Docker",id:"start-docker",level:3},{value:"Using the Docker wrapper script",id:"using-the-docker-wrapper-script",level:3},{value:"More about the <code>img2num</code> script",id:"more-about-the-img2num-script",level:4},{value:"Set up the C++ Library",id:"set-up-the-c-library",level:2},{value:"Compilation &amp; Installation",id:"compilation--installation",level:3},{value:"Compilation",id:"compilation",level:4},{value:"Installation",id:"installation",level:4},{value:"WebAssembly (WASM) Compilation",id:"webassembly-wasm-compilation",level:3},{value:"JavaScript",id:"javascript",level:2},{value:"Install JavaScript dependencies",id:"install-javascript-dependencies",level:3},{value:"Running a project",id:"running-a-project",level:3}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Details:l}=n;return l||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://git-scm.com/downloads",children:"Git"})}),"\n",(0,t.jsxs)(n.li,{children:["Docker (choose one of the following):","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop/",children:(0,t.jsx)(n.strong,{children:"Docker Desktop"})})," (recommended)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.docker.com/engine/install/",children:"Docker Engine"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"verify-prerequisite-installations",children:"Verify Prerequisite Installations"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Paste this in your terminal"',children:"git --version\ndocker --version\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Docker Dev Environment",type:"important",children:[(0,t.jsx)(n.p,{children:"We recommend using the Docker dev environment.\nSetting up the environment locally adds unnecessary complexity and is not officially supported."}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"If you choose to develop locally, you are responsible for configuring and maintaining your own environment."})})]}),"\n",(0,t.jsx)(n.h2,{id:"clone-the-repository",children:"Clone the repository"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Paste this in your terminal"',children:"git clone https://github.com/Ryan-Millard/Img2Num.git\ncd Img2Num/\n"})}),"\n",(0,t.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,t.jsx)(n.h3,{id:"start-docker",children:"Start Docker"}),"\n",(0,t.jsxs)(r.A,{defaultValue:"bash",values:[{label:"Linux / macOS",value:"bash"},{label:"Windows CMD",value:"cmd"},{label:"PowerShell",value:"powershell"}],children:[(0,t.jsx)(s.A,{value:"bash",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Paste this in your terminal"',children:"./img2num sh\n"})})}),(0,t.jsx)(s.A,{value:"cmd",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bat",metastring:'title="Paste this in your terminal"',children:".\\img2num.bat sh\n"})})}),(0,t.jsx)(s.A,{value:"powershell",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershel",metastring:'title="Paste this in your terminal"',children:".\\img2num.ps1 sh\n"})})})]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.mdxAdmonitionTitle,{children:["About the ",(0,t.jsx)(n.code,{children:"img2num"})," script"]}),(0,t.jsx)(n.p,{children:"It is a thin wrapper around Docker and pnpm that allows you to conveniently run scripts inside the Docker environment."}),(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/example-apps/react-js/src/components/WasmImageProcessor.jsx",children:"img2num"}),",\n",(0,t.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/img2num.ps1",children:"img2num.ps1"}),",\nand ",(0,t.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num/blob/main/img2num.bat",children:"img2num.bat"}),".\n:::"]}),"\n"]}),(0,t.jsx)(n.h3,{id:"using-the-docker-wrapper-script",children:"Using the Docker wrapper script"}),(0,t.jsx)(n.p,{children:"You can view the list of available commands by running the below in your terminal:"}),(0,t.jsxs)(r.A,{defaultValue:"bash",values:[{label:"Linux / macOS",value:"bash"},{label:"Windows CMD",value:"cmd"},{label:"PowerShell",value:"powershell"}],children:[(0,t.jsx)(s.A,{value:"bash",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Paste this in your terminal"',children:"./img2num help\n"})})}),(0,t.jsx)(s.A,{value:"cmd",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bat",metastring:'title="Paste this in your terminal"',children:".\\img2num.bat help\n"})})}),(0,t.jsx)(s.A,{value:"powershell",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",metastring:'title="Paste this in your terminal"',children:".\\img2num.ps1 help\n"})})})]}),(0,t.jsx)(n.admonition,{title:"Warning: Environment assumptions",type:"warning",children:(0,t.jsx)(n.p,{children:"In future docs, assume that the commands are to be run in the Docker terminal."})})]}),"\n",(0,t.jsxs)(l,{open:!0,children:[(0,t.jsx)("summary",{children:(0,t.jsxs)(n.h4,{id:"more-about-the-img2num-script",children:["More about the ",(0,t.jsx)(n.code,{children:"img2num"})," script"]})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"./img2num pnpm <args>"})," is a proxy to pnpm inside the Docker container's shell."]}),"\n",(0,t.jsxs)(r.A,{defaultValue:"root",values:[{label:"Root",value:"root"},{label:"Docs",value:"docs"},{label:"React Example App",value:"react-example"}],children:[(0,t.jsx)(s.A,{value:"root",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:'bash title="Fuzzy find scripts local to the root project" ./img2num pnpm run help '})})}),(0,t.jsx)(s.A,{value:"docs",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:'bash title="Fuzzy find scripts local to the documentation" ./img2num pnpm run -F docs help '})})}),(0,t.jsx)(s.A,{value:"react-example",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:'bash title="Fuzzy find scripts local to the React Example app" ./img2num pnpm run -F react-example help '})})})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"./img2num sh"}),", ",(0,t.jsx)(n.code,{children:"./img2num shell"}),", and ",(0,t.jsx)(n.code,{children:"./img2num bash"})," all open the Docker container's interactive terminal."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Open the Docker terminal"',children:"./img2num sh\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The rest of the arguments that can be passed to the script (e.g., ",(0,t.jsx)(n.code,{children:"stop"}),", ",(0,t.jsx)(n.code,{children:"restart"}),", ",(0,t.jsx)(n.code,{children:"down"}),", ",(0,t.jsx)(n.code,{children:"purge"}),", ",(0,t.jsx)(n.code,{children:"destroy"}),", and ",(0,t.jsx)(n.code,{children:"logs"}),")\nmanage the container itself."]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"set-up-the-c-library",children:"Set up the C++ Library"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"All CMake commands should be run from the root of the project."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"compilation--installation",children:"Compilation & Installation"}),"\n",(0,t.jsx)(n.h4,{id:"compilation",children:"Compilation"}),"\n",(0,t.jsxs)(r.A,{defaultValue:"release",values:[{label:"Release Build",value:"release"},{label:"Debug Build",value:"debug"}],children:[(0,t.jsx)(s.A,{value:"release",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Compile Release build"',children:"cmake -B build-release/ .\ncmake --build build-release/\n"})})}),(0,t.jsx)(s.A,{value:"debug",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Compile Debug build"',children:"cmake -B build/ . -DCMAKE_BUILD_TYPE=Debug\ncmake --build build/\n"})})})]}),"\n",(0,t.jsx)(n.h4,{id:"installation",children:"Installation"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"The library must be compiled before you can run this command."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Install the library"',children:"cmake --install build\n"})}),"\n",(0,t.jsx)(n.h3,{id:"webassembly-wasm-compilation",children:"WebAssembly (WASM) Compilation"}),"\n",(0,t.jsxs)(n.admonition,{title:"JavaScript Prerequisite",type:"info",children:[(0,t.jsx)(n.p,{children:"Excluding the documentation and CLI scripts, compiling the library to WASM is required before using the JavaScript library."}),(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"The example apps depend on the library, so they will also fail if you have not compiled the WASM.\n:::"}),"\n"]}),(0,t.jsx)(n.p,{children:"This compiles the core C++ image processing library to WebAssembly using Emscripten."}),(0,t.jsxs)(r.A,{defaultValue:"release",values:[{label:"Release Build",value:"release"},{label:"Debug Build",value:"debug"}],children:[(0,t.jsx)(s.A,{value:"release",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Compile Release build"',children:"emcmake cmake -B build-wasm-release/ .\ncmake --build build-wasm-release/\n"})})}),(0,t.jsx)(s.A,{value:"debug",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Compile Debug build"',children:"emcmake cmake -B build-wasm/ . -DCMAKE_BUILD_TYPE=Debug\ncmake --build build-wasm/\n"})})})]}),(0,t.jsx)(n.h2,{id:"javascript",children:"JavaScript"}),(0,t.jsx)(n.h3,{id:"install-javascript-dependencies",children:"Install JavaScript dependencies"}),(0,t.jsx)(n.p,{children:"These are required for running the documentation, packages, and some example apps."}),(0,t.jsxs)(r.A,{defaultValue:"docker-term",values:[{label:"Docker Terminal",value:"docker-term"},{label:"Normal Terminal",value:"normal-term"}],children:[(0,t.jsx)(s.A,{value:"docker-term",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="From inside the Docker terminal"',children:"pnpm install\n"})})}),(0,t.jsx)(s.A,{value:"normal-term",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="From outside the Docker terminal one-off command forwarded to Docker"',children:"./img2num pnpm install\n"})})})]}),(0,t.jsx)(n.h3,{id:"running-a-project",children:"Running a project"}),(0,t.jsxs)(r.A,{defaultValue:"react-example",values:[{label:"React Example App",value:"react-example"},{label:"Documentation Site",value:"docs"}],children:[(0,t.jsx)(s.A,{value:"react-example",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm -F react-example dev\n"})})}),(0,t.jsx)(s.A,{value:"docs",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm -F docs start\n"})})})]})]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},11966(e,n,l){l.d(n,{A:()=>r});l(7378);var i=l(23372);const t="tabItem_EmME";var a=l(86106);function r({children:e,hidden:n,className:l}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(t,l),hidden:n,children:e})}},42762(e,n,l){l.d(n,{A:()=>A});var i=l(7378),t=l(23372),a=l(30267),r=l(20148),s=l(30505),o=l(13286),c=l(38609),d=l(98414),u=l(23230);function h(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:n,children:l}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:l,default:i}})=>({value:e,label:n,attributes:l,default:i}))}(l);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,l])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function b({queryString:e=!1,groupId:n}){const l=(0,s.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(t),(0,i.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(l.location.search);n.set(t,e),l.replace({...l.location,search:n.toString()})},[t,l])]}function x(e){const{defaultValue:n,queryString:l=!1,groupId:t}=e,a=m(e),[r,s]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const l=n.find(e=>e.default)??n[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:n,tabValues:a})),[c,d]=b({queryString:l,groupId:t}),[h,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[l,t]=(0,u.Dv)(n);return[l,(0,i.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),g=(()=>{const e=c??h;return p({value:e,tabValues:a})?e:null})();(0,o.A)(()=>{g&&s(g)},[g]);return{selectedValue:r,selectValue:(0,i.useCallback)(e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),d(e),x(e)},[d,x,a]),tabValues:a}}var g=l(94510);const j="tabList_LMG_",v="tabItem_ddcv";var f=l(86106);function y({className:e,block:n,selectedValue:l,selectValue:i,tabValues:a}){const s=[],{blockElementScrollPositionUntilNextRender:o}=(0,r.a_)(),c=e=>{const n=e.currentTarget,t=s.indexOf(n),r=a[t].value;r!==l&&(o(n),i(r))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const l=s.indexOf(e.currentTarget)+1;n=s[l]??s[0];break}case"ArrowLeft":{const l=s.indexOf(e.currentTarget)-1;n=s[l]??s[s.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:i})=>(0,f.jsx)("li",{role:"tab",tabIndex:l===e?0:-1,"aria-selected":l===e,ref:e=>{s.push(e)},onKeyDown:d,onClick:c,...i,className:(0,t.A)("tabs__item",v,i?.className,{"tabs__item--active":l===e}),children:n??e},e))})}function k({lazy:e,children:n,selectedValue:l}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===l);return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==l}))})}function w(e){const n=x(e);return(0,f.jsxs)("div",{className:(0,t.A)(a.G.tabs.container,"tabs-container",j),children:[(0,f.jsx)(y,{...n,...e}),(0,f.jsx)(k,{...n,...e})]})}function A(e){const n=(0,g.A)();return(0,f.jsx)(w,{...e,children:h(e.children)},String(n))}},48551(e,n,l){l.d(n,{R:()=>r,x:()=>s});var i=l(7378);const t={},a=i.createContext(t);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);