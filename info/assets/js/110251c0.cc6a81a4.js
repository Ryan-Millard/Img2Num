"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3568],{5262:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"reference/wasm/wasm-setup-depencenciess","title":"Setup & Dependencies","description":"To build the WASM modules you will need a working Emscripten toolchain (emsdk) available on your PATH and a Unix-y shell environment (bash / WSL / macOS). Steps in brief:","source":"@site/docs/reference/wasm/setup-and-dependencies.md","sourceDirName":"reference/wasm","slug":"/reference/wasm/wasm-setup-depencenciess","permalink":"/Img2Num/info/docs/reference/wasm/wasm-setup-depencenciess","draft":false,"unlisted":false,"editUrl":"https://github.com/Ryan-Millard/Img2Num/edit/main/docs/docs/reference/wasm/setup-and-dependencies.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"wasm-setup-depencenciess","title":"Setup & Dependencies","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"WebAssembly Overview","permalink":"/Img2Num/info/docs/reference/wasm/overview"},"next":{"title":"Using WASM modules in React","permalink":"/Img2Num/info/docs/reference/wasm/wasm-using-react"}}');var r=s(4848),o=s(8453);const t={id:"wasm-setup-depencenciess",title:"Setup & Dependencies",sidebar_position:2},d="Prerequisites",c={},l=[{value:"How package.json ties into builds",id:"how-packagejson-ties-into-builds",level:2},{value:"Environment variables",id:"environment-variables",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"prerequisites",children:"Prerequisites"})}),"\n",(0,r.jsxs)(n.p,{children:["To build the WASM modules you will need a working Emscripten toolchain (emsdk) available on your ",(0,r.jsx)(n.code,{children:"PATH"})," and a Unix-y shell environment (bash / WSL / macOS). Steps in brief:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Install Emscripten (emsdk) \u2014 follow the official Emscripten docs for your OS."}),"\n",(0,r.jsxs)(n.li,{children:["Activate emsdk and ensure ",(0,r.jsx)(n.code,{children:"emcc"}),"/",(0,r.jsx)(n.code,{children:"em++"})," are available in the shell used by ",(0,r.jsx)(n.code,{children:"npm"}),"/",(0,r.jsx)(n.code,{children:"make"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Optionally install ",(0,r.jsx)(n.code,{children:"clang-format"})," and ",(0,r.jsx)(n.code,{children:"cmake"})," if module Makefiles rely on them."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"For Windows development we recommend WSL2 + Ubuntu and activating emsdk inside WSL for consistent results."})}),"\n",(0,r.jsx)(n.admonition,{title:"Help Wanted!",type:"danger",children:(0,r.jsxs)(n.p,{children:["The support for developers on Windows for this repository is not great. Thus, we need ",(0,r.jsx)(n.strong,{children:"your help"}),"!\n",(0,r.jsx)(n.a,{href:"https://github.com/Ryan-Millard/Img2Num/issues/80",children:"Issue #80"})," is up for grabs for anyone will to take on this task."]})}),"\n",(0,r.jsx)(n.h2,{id:"how-packagejson-ties-into-builds",children:"How package.json ties into builds"}),"\n",(0,r.jsxs)(n.p,{children:["The repo ships npm scripts that call ",(0,r.jsx)(n.code,{children:"make"})," in the ",(0,r.jsx)(n.code,{children:"src/wasm"})," directory. Example snippets from ",(0,r.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"scripts": {\n  "build-wasm": "make -C src/wasm build",\n  "build-wasm:debug": "make -C src/wasm debug",\n  "clean-wasm": "make -C src/wasm clean"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"npm"})," scripts when developing locally or in CI; they make the JS side independent from the exact make command."]}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NODE_ENV=production"})," \u2014 some parts of ",(0,r.jsx)(n.code,{children:"vite.config.js"})," only trigger a WASM build when building for production; during dev the plugin also triggers builds but only as configured."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"EMSDK"})," / ",(0,r.jsx)(n.code,{children:"EMCC"})," \u2014 if you maintain multiple SDK installs, ensure the correct one is on ",(0,r.jsx)(n.code,{children:"PATH"})," when running ",(0,r.jsx)(n.code,{children:"npm run build-wasm"}),"."]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);